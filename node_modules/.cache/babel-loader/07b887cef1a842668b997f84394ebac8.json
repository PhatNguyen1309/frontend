{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import{Doughnut,Line,Radar}from\"react-chartjs-2\";import MetaData from'../layout/MetaData';import Loader from'../layout/Loader';import Sidebar from'./Sidebar';import{useDispatch,useSelector}from'react-redux';import{getAdminProducts}from'../../actions/productActions';import{allOrders}from'../../actions/orderActions';import{allUsers}from'../../actions/userActions';import ChartIncome from'./ChartIncome';var Dashboard=function Dashboard(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products;var _useSelector2=useSelector(function(state){return state.allUsers;}),users=_useSelector2.users;var _useSelector3=useSelector(function(state){return state.allOrders;}),orders=_useSelector3.orders,totalAmount=_useSelector3.totalAmount,loading=_useSelector3.loading;var outOfStock=0;products.forEach(function(product){if(product.stock===0){outOfStock+=1;}});// status order\nvar da_dat_hang=0;var dang_van_chuyen=0;var da_giao_hang=0;orders&&orders.forEach(function(order){if(order.orderStatus===\"Đã đặt hàng\"){da_dat_hang+=1;}if(order.orderStatus===\"Đang vận chuyển\"){dang_van_chuyen+=1;}if(order.orderStatus===\"Đã giao hàng\"){da_giao_hang+=1;}});useEffect(function(){dispatch(getAdminProducts());dispatch(allOrders());dispatch(allUsers());},[dispatch]);var totalAmountall=0;orders&&orders.forEach(function(product){totalAmountall+=product.totalPrice;});// Chart Line tính tổng doanh thu\nvar lineState={labels:[\"Số tiền ban đầu\",\"Tổng danh thu hiện tại\"],datasets:[{label:\"TỔNG DANH THU\",backgroundColor:[\"blue\"],hoverBackgroundColor:[\"rgb(197, 72, 49)\"],data:[0,totalAmountall]}]};// Doughnut tính số lượng hàng còn và hết hàng\nvar doughnutState={labels:[\"Hết hàng\",\"Còn hàng\"],datasets:[{backgroundColor:[\"#00A6B4\",\"#6800B4\"],hoverBackgroundColor:[\"#FF1493\",\"#FFD700\"],data:[outOfStock,products.length-outOfStock]}]};// Doughnut thống kê trạng thái đơn hàng\nvar doughnutStateOrder={labels:[\"Đã đặt hàng\",\"Đang vận chuyển\",\"Đã giao hàng\"],datasets:[{backgroundColor:[\"#00A6B4\",\"#6800B4\",\"#FF7F50\"],hoverBackgroundColor:[\"#FF1493\",\"#00FA9A\",\"#FFD700\"],data:[da_dat_hang,dang_van_chuyen,da_giao_hang]}]};// radar chart\nvar hai_san=0;var truyen_thong=0;var thap_cam=0;var chay=0;var piece=0;var do_uong=0;products&&products.forEach(function(product){if(product.category===\"Hải sản\"){hai_san+=1;}if(product.category===\"Truyền thống\"){truyen_thong+=1;}if(product.category===\"Đồ uống - Giải khát\"){do_uong+=1;}if(product.category===\"Thập cẩm\"){thap_cam+=1;}if(product.category===\"Chay\"){chay+=1;}if(product.category===\"1 piece\"){piece+=1;}});var data={labels:['Hải sản','Truyền thống','Thập cẩm','Đồ uống','Chay','1 piece'],datasets:[{label:'Danh mục sản phẩm',data:[hai_san,truyen_thong,do_uong,thap_cam,chay,piece],fill:true,backgroundColor:'rgba(54, 162, 235, 0.2)',borderColor:'rgb(54, 162, 235)',pointBackgroundColor:'rgb(54, 162, 235)',pointBorderColor:'#fff',pointHoverBackgroundColor:'#fff',pointHoverBorderColor:'rgb(54, 162, 235)'}]};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"grid-bg ba-grid anim\",children:/*#__PURE__*/_jsx(\"div\",{class:\"inner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-2\",children:/*#__PURE__*/_jsx(Sidebar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-4\",children:\"T\\u1ED5ng quan\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Admin Dashboard'}),/*#__PURE__*/_jsxs(\"div\",{className:\"row pr-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-primary o-hidden h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"T\\u1ED5ng danh thu\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"b\",{children:[totalAmount&&totalAmount.toLocaleString(),\" VN\\u0110\"]})]})}),/*#__PURE__*/_jsxs(Link,{className:\"card-footer text-white clearfix small z-1\",to:\"/admin/orders\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"float-left\",children:\"Xem chi ti\\u1EBFt\"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-success o-hidden h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"T\\u1ED5ng s\\u1EA3n ph\\u1EA9m\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:products&&products.length})]})}),/*#__PURE__*/_jsxs(Link,{className:\"card-footer text-white clearfix small z-1\",to:\"/admin/products\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"float-left\",children:\"Xem chi ti\\u1EBFt\"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-danger o-hidden h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"T\\u1ED5ng h\\xF3a \\u0111\\u01A1n\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:orders&&orders.length})]})}),/*#__PURE__*/_jsxs(Link,{className:\"card-footer text-white clearfix small z-1\",to:\"/admin/orders\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"float-left\",children:\"Xem chi ti\\u1EBFt\"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-white bg-info o-hidden h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center card-font-size\",children:[\"T\\u1ED5ng ng\\u01B0\\u1EDDi d\\xF9ng\",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:users&&users.length})]})}),/*#__PURE__*/_jsxs(Link,{className:\"card-footer text-white clearfix small z-1\",to:\"/admin/users\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"float-left\",children:\"Xem chi ti\\u1EBFt\"}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-light o-hidden h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-dark\",children:\"T\\xECnh tr\\u1EA1ng s\\u1ED1 l\\u01B0\\u1EE3ng h\\xE0ng\"}),/*#__PURE__*/_jsx(\"div\",{className:\"doughnutChart\",children:/*#__PURE__*/_jsx(Doughnut,{data:doughnutState})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-3 col-sm-6 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-light o-hidden h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-dark\",children:\"T\\xECnh tr\\u1EA1ng \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsx(\"div\",{className:\"doughnutChart\",children:/*#__PURE__*/_jsx(Doughnut,{data:doughnutStateOrder})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-sm-12 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-light o-hidden h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-dark\",children:\"T\\u1ED5ng doanh thu\"}),/*#__PURE__*/_jsx(\"div\",{className:\"lineChart\",children:/*#__PURE__*/_jsx(Line,{data:lineState})})]})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(ChartIncome,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"radar col-md-5 card text-white bg-light\",children:/*#__PURE__*/_jsx(Radar,{data:data})})]})]})]})})})});};export default Dashboard;","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan/frontend/src/components/admin/Dashboard.js"],"names":["React","Fragment","useEffect","Link","Doughnut","Line","Radar","MetaData","Loader","Sidebar","useDispatch","useSelector","getAdminProducts","allOrders","allUsers","ChartIncome","Dashboard","dispatch","state","products","users","orders","totalAmount","loading","outOfStock","forEach","product","stock","da_dat_hang","dang_van_chuyen","da_giao_hang","order","orderStatus","totalAmountall","totalPrice","lineState","labels","datasets","label","backgroundColor","hoverBackgroundColor","data","doughnutState","length","doughnutStateOrder","hai_san","truyen_thong","thap_cam","chay","piece","do_uong","category","fill","borderColor","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","toLocaleString"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,QAAT,CAAmBC,IAAnB,CAAyBC,KAAzB,KAAsC,iBAAtC,CAEA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,OAASC,gBAAT,KAAiC,8BAAjC,CACA,OAASC,SAAT,KAA0B,4BAA1B,CACA,OAASC,QAAT,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAEpB,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAFoB,iBAICC,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,QAAV,EAAN,CAJZ,CAIZA,QAJY,cAIZA,QAJY,mBAKFR,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACJ,QAAV,EAAN,CALT,CAKZM,KALY,eAKZA,KALY,mBAMqBT,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACL,SAAV,EAAN,CANhC,CAMZQ,MANY,eAMZA,MANY,CAMJC,WANI,eAMJA,WANI,CAMSC,OANT,eAMSA,OANT,CAQpB,GAAIC,CAAAA,UAAU,CAAG,CAAjB,CACAL,QAAQ,CAACM,OAAT,CAAiB,SAAAC,OAAO,CAAI,CACxB,GAAIA,OAAO,CAACC,KAAR,GAAkB,CAAtB,CAAyB,CACrBH,UAAU,EAAI,CAAd,CACH,CACJ,CAJD,EAKA;AACA,GAAII,CAAAA,WAAW,CAAG,CAAlB,CACA,GAAIC,CAAAA,eAAe,CAAG,CAAtB,CACA,GAAIC,CAAAA,YAAY,CAAG,CAAnB,CACAT,MAAM,EACFA,MAAM,CAACI,OAAP,CAAe,SAACM,KAAD,CAAW,CACtB,GAAIA,KAAK,CAACC,WAAN,GAAsB,aAA1B,CAAyC,CACrCJ,WAAW,EAAI,CAAf,CACH,CACD,GAAIG,KAAK,CAACC,WAAN,GAAsB,iBAA1B,CAA6C,CACzCH,eAAe,EAAI,CAAnB,CACH,CACD,GAAIE,KAAK,CAACC,WAAN,GAAsB,cAA1B,CAA0C,CACtCF,YAAY,EAAI,CAAhB,CACH,CACJ,CAVD,CADJ,CAaA5B,SAAS,CAAC,UAAM,CACZe,QAAQ,CAACL,gBAAgB,EAAjB,CAAR,CACAK,QAAQ,CAACJ,SAAS,EAAV,CAAR,CACAI,QAAQ,CAACH,QAAQ,EAAT,CAAR,CACH,CAJQ,CAIN,CAACG,QAAD,CAJM,CAAT,CAMA,GAAIgB,CAAAA,cAAc,CAAG,CAArB,CACAZ,MAAM,EACFA,MAAM,CAACI,OAAP,CAAe,SAACC,OAAD,CAAa,CACxBO,cAAc,EAAIP,OAAO,CAACQ,UAA1B,CACH,CAFD,CADJ,CAIA;AACA,GAAMC,CAAAA,SAAS,CAAG,CACdC,MAAM,CAAE,CAAC,iBAAD,CAAoB,wBAApB,CADM,CAEdC,QAAQ,CAAE,CACN,CACIC,KAAK,CAAE,eADX,CAEIC,eAAe,CAAE,CAAC,MAAD,CAFrB,CAGIC,oBAAoB,CAAE,CAAC,kBAAD,CAH1B,CAIIC,IAAI,CAAE,CAAC,CAAD,CAAIR,cAAJ,CAJV,CADM,CAFI,CAAlB,CAWA;AACA,GAAMS,CAAAA,aAAa,CAAG,CAClBN,MAAM,CAAE,CAAC,UAAD,CAAa,UAAb,CADU,CAElBC,QAAQ,CAAE,CACN,CACIE,eAAe,CAAE,CAAC,SAAD,CAAY,SAAZ,CADrB,CAEIC,oBAAoB,CAAE,CAAC,SAAD,CAAY,SAAZ,CAF1B,CAGIC,IAAI,CAAE,CAACjB,UAAD,CAAaL,QAAQ,CAACwB,MAAT,CAAkBnB,UAA/B,CAHV,CADM,CAFQ,CAAtB,CAUA;AACA,GAAMoB,CAAAA,kBAAkB,CAAG,CACvBR,MAAM,CAAE,CAAC,aAAD,CAAgB,iBAAhB,CAAmC,cAAnC,CADe,CAEvBC,QAAQ,CAAE,CACN,CACIE,eAAe,CAAE,CAAC,SAAD,CAAY,SAAZ,CAAuB,SAAvB,CADrB,CAEIC,oBAAoB,CAAE,CAAC,SAAD,CAAY,SAAZ,CAAuB,SAAvB,CAF1B,CAGIC,IAAI,CAAE,CAACb,WAAD,CAAcC,eAAd,CAA+BC,YAA/B,CAHV,CADM,CAFa,CAA3B,CAUA;AACA,GAAIe,CAAAA,OAAO,CAAG,CAAd,CACA,GAAIC,CAAAA,YAAY,CAAG,CAAnB,CACA,GAAIC,CAAAA,QAAQ,CAAG,CAAf,CACA,GAAIC,CAAAA,IAAI,CAAG,CAAX,CACA,GAAIC,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAIC,CAAAA,OAAO,CAAG,CAAd,CACA/B,QAAQ,EACJA,QAAQ,CAACM,OAAT,CAAiB,SAACC,OAAD,CAAa,CAC1B,GAAIA,OAAO,CAACyB,QAAR,GAAqB,SAAzB,CAAoC,CAChCN,OAAO,EAAI,CAAX,CACH,CACD,GAAInB,OAAO,CAACyB,QAAR,GAAqB,cAAzB,CAAyC,CACrCL,YAAY,EAAI,CAAhB,CACH,CACD,GAAIpB,OAAO,CAACyB,QAAR,GAAqB,qBAAzB,CAAgD,CAC5CD,OAAO,EAAI,CAAX,CACH,CACD,GAAIxB,OAAO,CAACyB,QAAR,GAAqB,UAAzB,CAAqC,CACjCJ,QAAQ,EAAI,CAAZ,CACH,CACD,GAAIrB,OAAO,CAACyB,QAAR,GAAqB,MAAzB,CAAiC,CAC7BH,IAAI,EAAI,CAAR,CACH,CACD,GAAItB,OAAO,CAACyB,QAAR,GAAqB,SAAzB,CAAoC,CAChCF,KAAK,EAAI,CAAT,CACH,CAEJ,CApBD,CADJ,CAsBA,GAAMR,CAAAA,IAAI,CAAG,CACTL,MAAM,CAAE,CACJ,SADI,CAEJ,cAFI,CAGJ,UAHI,CAIJ,SAJI,CAKJ,MALI,CAMJ,SANI,CADC,CASTC,QAAQ,CAAE,CAAC,CACPC,KAAK,CAAE,mBADA,CAEPG,IAAI,CAAE,CAACI,OAAD,CAAUC,YAAV,CAAwBI,OAAxB,CAAiCH,QAAjC,CAA2CC,IAA3C,CAAiDC,KAAjD,CAFC,CAGPG,IAAI,CAAE,IAHC,CAIPb,eAAe,CAAE,yBAJV,CAKPc,WAAW,CAAE,mBALN,CAMPC,oBAAoB,CAAE,mBANf,CAOPC,gBAAgB,CAAE,MAPX,CAQPC,yBAAyB,CAAE,MARpB,CASPC,qBAAqB,CAAE,mBAThB,CAAD,CATD,CAAb,CAsBA,mBACI,KAAC,QAAD,wBACI,YAAK,KAAK,CAAC,sBAAX,uBACI,YAAK,KAAK,CAAC,OAAX,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,KAAC,OAAD,IADJ,EADJ,cAKI,aAAK,SAAS,CAAC,kBAAf,wBACI,WAAI,SAAS,CAAC,MAAd,4BADJ,CAGKlC,OAAO,cAAG,KAAC,MAAD,IAAH,cACJ,MAAC,QAAD,yBACI,KAAC,QAAD,EAAU,KAAK,CAAE,iBAAjB,EADJ,cAGI,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,2CAAf,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,4BAAf,6CAAyD,aAAzD,kBAAgE,qBAAID,WAAW,EAAIA,WAAW,CAACoC,cAAZ,EAAnB,eAAhE,GADJ,EADJ,cAKI,MAAC,IAAD,EAAM,SAAS,CAAC,2CAAhB,CAA4D,EAAE,CAAC,eAA/D,wBACI,aAAM,SAAS,CAAC,YAAhB,+BADJ,cAEI,aAAM,SAAS,CAAC,aAAhB,uBACI,UAAG,SAAS,CAAC,mBAAb,EADJ,EAFJ,GALJ,GADJ,EADJ,cAeI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,2CAAf,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,4BAAf,uDAAyD,aAAzD,kBAAgE,mBAAIvC,QAAQ,EAAIA,QAAQ,CAACwB,MAAzB,EAAhE,GADJ,EADJ,cAII,MAAC,IAAD,EAAM,SAAS,CAAC,2CAAhB,CAA4D,EAAE,CAAC,iBAA/D,wBACI,aAAM,SAAS,CAAC,YAAhB,+BADJ,cAEI,aAAM,SAAS,CAAC,aAAhB,uBACI,UAAG,SAAS,CAAC,mBAAb,EADJ,EAFJ,GAJJ,GADJ,EAfJ,cA8BI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,0CAAf,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,4BAAf,yDAAwD,aAAxD,kBAA+D,mBAAItB,MAAM,EAAIA,MAAM,CAACsB,MAArB,EAA/D,GADJ,EADJ,cAII,MAAC,IAAD,EAAM,SAAS,CAAC,2CAAhB,CAA4D,EAAE,CAAC,eAA/D,wBACI,aAAM,SAAS,CAAC,YAAhB,+BADJ,cAEI,aAAM,SAAS,CAAC,aAAhB,uBACI,UAAG,SAAS,CAAC,mBAAb,EADJ,EAFJ,GAJJ,GADJ,EA9BJ,cA6CI,YAAK,SAAS,CAAC,wBAAf,uBACI,aAAK,SAAS,CAAC,wCAAf,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,4BAAf,4DAA2D,aAA3D,kBAAkE,mBAAIvB,KAAK,EAAIA,KAAK,CAACuB,MAAnB,EAAlE,GADJ,EADJ,cAII,MAAC,IAAD,EAAM,SAAS,CAAC,2CAAhB,CAA4D,EAAE,CAAC,cAA/D,wBACI,aAAM,SAAS,CAAC,YAAhB,+BADJ,cAEI,aAAM,SAAS,CAAC,aAAhB,uBACI,UAAG,SAAS,CAAC,mBAAb,EADJ,EAFJ,GAJJ,GADJ,EA7CJ,cA2DI,YAAK,SAAS,CAAC,wBAAf,uBACI,YAAK,SAAS,CAAC,yCAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBAEI,WAAI,SAAS,CAAC,WAAd,gEAFJ,cAGI,YAAK,SAAS,CAAC,eAAf,uBACI,KAAC,QAAD,EAAU,IAAI,CAAED,aAAhB,EADJ,EAHJ,GADJ,EADJ,EA3DJ,cAuEI,YAAK,SAAS,CAAC,wBAAf,uBACI,YAAK,SAAS,CAAC,yCAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBAEI,WAAI,SAAS,CAAC,WAAd,sDAFJ,cAII,YAAK,SAAS,CAAC,eAAf,uBACI,KAAC,QAAD,EAAU,IAAI,CAAEE,kBAAhB,EADJ,EAJJ,GADJ,EADJ,EAvEJ,cAoFI,YAAK,SAAS,CAAC,yBAAf,uBACI,YAAK,SAAS,CAAC,yCAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,WAAI,SAAS,CAAC,WAAd,iCADJ,cAGI,YAAK,SAAS,CAAC,WAAf,uBACI,KAAC,IAAD,EACI,IAAI,CAAET,SADV,EADJ,EAHJ,GADJ,EADJ,EApFJ,GAHJ,GAJR,cA6GI,aAAK,SAAS,CAAC,KAAf,wBAEI,YAAK,SAAS,CAAC,UAAf,uBACI,KAAC,WAAD,IADJ,EAFJ,cAKI,YAAK,SAAS,CAAC,yCAAf,uBAEI,KAAC,KAAD,EACI,IAAI,CAAEM,IADV,EAFJ,EALJ,GA7GJ,GALJ,GADJ,EADJ,EADJ,EADJ,CA2IH,CA1QD,CA4QA,cAAezB,CAAAA,SAAf","sourcesContent":["import React, { Fragment, useEffect } from 'react'\nimport { Link } from 'react-router-dom';\nimport { Doughnut, Line, Radar } from \"react-chartjs-2\";\n\nimport MetaData from '../layout/MetaData'\nimport Loader from '../layout/Loader'\nimport Sidebar from './Sidebar'\n\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { getAdminProducts } from '../../actions/productActions'\nimport { allOrders } from '../../actions/orderActions'\nimport { allUsers } from '../../actions/userActions'\nimport ChartIncome from './ChartIncome';\n\nconst Dashboard = () => {\n\n    const dispatch = useDispatch();\n\n    const { products } = useSelector(state => state.products)\n    const { users } = useSelector(state => state.allUsers)\n    const { orders, totalAmount, loading } = useSelector(state => state.allOrders)\n\n    let outOfStock = 0;\n    products.forEach(product => {\n        if (product.stock === 0) {\n            outOfStock += 1;\n        }\n    })\n    // status order\n    let da_dat_hang = 0;\n    let dang_van_chuyen = 0;\n    let da_giao_hang = 0;\n    orders &&\n        orders.forEach((order) => {\n            if (order.orderStatus === \"Đã đặt hàng\") {\n                da_dat_hang += 1;\n            }\n            if (order.orderStatus === \"Đang vận chuyển\") {\n                dang_van_chuyen += 1;\n            }\n            if (order.orderStatus === \"Đã giao hàng\") {\n                da_giao_hang += 1;\n            }\n        });\n\n    useEffect(() => {\n        dispatch(getAdminProducts())\n        dispatch(allOrders())\n        dispatch(allUsers())\n    }, [dispatch]);\n\n    let totalAmountall = 0;\n    orders &&\n        orders.forEach((product) => {\n            totalAmountall += product.totalPrice;\n        });\n    // Chart Line tính tổng doanh thu\n    const lineState = {\n        labels: [\"Số tiền ban đầu\", \"Tổng danh thu hiện tại\"],\n        datasets: [\n            {\n                label: \"TỔNG DANH THU\",\n                backgroundColor: [\"blue\"],\n                hoverBackgroundColor: [\"rgb(197, 72, 49)\"],\n                data: [0, totalAmountall],\n            },\n        ],\n    };\n    // Doughnut tính số lượng hàng còn và hết hàng\n    const doughnutState = {\n        labels: [\"Hết hàng\", \"Còn hàng\"],\n        datasets: [\n            {\n                backgroundColor: [\"#00A6B4\", \"#6800B4\"],\n                hoverBackgroundColor: [\"#FF1493\", \"#FFD700\"],\n                data: [outOfStock, products.length - outOfStock],\n            },\n        ],\n    };\n    // Doughnut thống kê trạng thái đơn hàng\n    const doughnutStateOrder = {\n        labels: [\"Đã đặt hàng\", \"Đang vận chuyển\", \"Đã giao hàng\"],\n        datasets: [\n            {\n                backgroundColor: [\"#00A6B4\", \"#6800B4\", \"#FF7F50\"],\n                hoverBackgroundColor: [\"#FF1493\", \"#00FA9A\", \"#FFD700\"],\n                data: [da_dat_hang, dang_van_chuyen, da_giao_hang],\n            },\n        ],\n    };\n    // radar chart\n    let hai_san = 0;\n    let truyen_thong = 0;\n    let thap_cam = 0;\n    let chay = 0;\n    let piece = 0;\n    let do_uong = 0;\n    products &&\n        products.forEach((product) => {\n            if (product.category === \"Hải sản\") {\n                hai_san += 1;\n            }\n            if (product.category === \"Truyền thống\") {\n                truyen_thong += 1;\n            }\n            if (product.category === \"Đồ uống - Giải khát\") {\n                do_uong += 1;\n            }\n            if (product.category === \"Thập cẩm\") {\n                thap_cam += 1;\n            }\n            if (product.category === \"Chay\") {\n                chay += 1;\n            }\n            if (product.category === \"1 piece\") {\n                piece += 1;\n            }\n\n        });\n    const data = {\n        labels: [\n            'Hải sản',\n            'Truyền thống',\n            'Thập cẩm',\n            'Đồ uống',\n            'Chay',\n            '1 piece'\n        ],\n        datasets: [{\n            label: 'Danh mục sản phẩm',\n            data: [hai_san, truyen_thong, do_uong, thap_cam, chay, piece],\n            fill: true,\n            backgroundColor: 'rgba(54, 162, 235, 0.2)',\n            borderColor: 'rgb(54, 162, 235)',\n            pointBackgroundColor: 'rgb(54, 162, 235)',\n            pointBorderColor: '#fff',\n            pointHoverBackgroundColor: '#fff',\n            pointHoverBorderColor: 'rgb(54, 162, 235)'\n        }]\n    };\n\n    return (\n        <Fragment>\n            <div class=\"grid-bg ba-grid anim\">\n                <div class=\"inner\">\n                    <div className=\"row\">\n                        <div className=\"col-12 col-md-2\">\n                            <Sidebar />\n                        </div>\n\n                        <div className=\"col-12 col-md-10\">\n                            <h1 className=\"my-4\">Tổng quan</h1>\n\n                            {loading ? <Loader /> : (\n                                <Fragment>\n                                    <MetaData title={'Admin Dashboard'} />\n\n                                    <div className=\"row pr-4\">\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                                            <div className=\"card text-white bg-primary o-hidden h-100\">\n                                                <div className=\"card-body\">\n                                                    <div className=\"text-center card-font-size\">Tổng danh thu<br /> <b>{totalAmount && totalAmount.toLocaleString()} VNĐ</b>\n                                                    </div>\n                                                </div>\n                                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/orders\">\n                                                    <span className=\"float-left\">Xem chi tiết</span>\n                                                    <span className=\"float-right\">\n                                                        <i className=\"fa fa-angle-right\"></i>\n                                                    </span>\n                                                </Link>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                                            <div className=\"card text-white bg-success o-hidden h-100\">\n                                                <div className=\"card-body\">\n                                                    <div className=\"text-center card-font-size\">Tổng sản phẩm<br /> <b>{products && products.length}</b></div>\n                                                </div>\n                                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/products\">\n                                                    <span className=\"float-left\">Xem chi tiết</span>\n                                                    <span className=\"float-right\">\n                                                        <i className=\"fa fa-angle-right\"></i>\n                                                    </span>\n                                                </Link>\n                                            </div>\n                                        </div>\n\n\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                                            <div className=\"card text-white bg-danger o-hidden h-100\">\n                                                <div className=\"card-body\">\n                                                    <div className=\"text-center card-font-size\">Tổng hóa đơn<br /> <b>{orders && orders.length}</b></div>\n                                                </div>\n                                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/orders\">\n                                                    <span className=\"float-left\">Xem chi tiết</span>\n                                                    <span className=\"float-right\">\n                                                        <i className=\"fa fa-angle-right\"></i>\n                                                    </span>\n                                                </Link>\n                                            </div>\n                                        </div>\n\n\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                                            <div className=\"card text-white bg-info o-hidden h-100\">\n                                                <div className=\"card-body\">\n                                                    <div className=\"text-center card-font-size\">Tổng người dùng<br /> <b>{users && users.length}</b></div>\n                                                </div>\n                                                <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/users\">\n                                                    <span className=\"float-left\">Xem chi tiết</span>\n                                                    <span className=\"float-right\">\n                                                        <i className=\"fa fa-angle-right\"></i>\n                                                    </span>\n                                                </Link>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                                            <div className=\"card text-white bg-light o-hidden h-100\">\n                                                <div className=\"card-body\">\n                                                    {/* Doughnut Chart */}\n                                                    <h6 className='text-dark'>Tình trạng số lượng hàng</h6>\n                                                    <div className=\"doughnutChart\">\n                                                        <Doughnut data={doughnutState} />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"col-xl-3 col-sm-6 mb-3\">\n                                            <div className=\"card text-white bg-light o-hidden h-100\">\n                                                <div className=\"card-body\">\n                                                    {/* Doughnut Chart */}\n                                                    <h6 className='text-dark'>Tình trạng đơn hàng</h6>\n                                                    {/* Doughnut Chart */}\n                                                    <div className=\"doughnutChart\">\n                                                        <Doughnut data={doughnutStateOrder} />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"col-xl-6 col-sm-12 mb-3\">\n                                            <div className=\"card text-white bg-light o-hidden h-100\">\n                                                <div className=\"card-body\">\n                                                    <h6 className='text-dark'>Tổng doanh thu</h6>\n                                                    {/* Line chart */}\n                                                    <div className=\"lineChart\">\n                                                        <Line\n                                                            data={lineState}\n                                                        />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                    </div>\n                                </Fragment>\n                            )}\n\n                            <div className='row'>\n\n                                <div className='col-md-6'>\n                                    <ChartIncome />\n                                </div>\n                                <div className='radar col-md-5 card text-white bg-light'>\n\n                                    <Radar\n                                        data={data}\n                                    />\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n        </Fragment >\n    )\n}\n\nexport default Dashboard\n"]},"metadata":{},"sourceType":"module"}