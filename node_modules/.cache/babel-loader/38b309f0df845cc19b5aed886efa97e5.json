{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import{MDBDataTableV5}from'mdbreact';import MetaData from'../layout/MetaData';import Loader from'../layout/Loader';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{myOrders,clearErrors}from'../../actions/orderActions';var ListOrders=function ListOrders(){var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.myOrders;}),loading=_useSelector.loading,error=_useSelector.error,orders=_useSelector.orders;useEffect(function(){dispatch(myOrders());if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,error]);var setOrders=function setOrders(){var data={columns:[{label:'ID',field:'id',sort:'asc'},{label:'Số lượng',field:'numOfItems',sort:'asc'},{label:'Tổng tiền',field:'amount',sort:'asc'},{label:'Trạng thái',field:'status',sort:'asc'},{label:'Hành động',field:'actions',sort:'asc'}],rows:[]};orders.forEach(function(order){data.rows.push({id:order._id,numOfItems:order.orderItems.length,amount:\"\".concat(order.totalPrice.toLocaleString(),\"\\u0111\"),status:order.orderStatus&&String(order.orderStatus).includes('Đã giao hàng')?/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:order.orderStatus}):/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:order.orderStatus}),actions:/*#__PURE__*/_jsx(Link,{to:\"/order/\".concat(order._id),className:\"btn btn-primary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-eye\"})})});});return data;};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Đơn hàng của tôi'}),/*#__PURE__*/_jsx(\"h1\",{className:\"my-5\",children:\"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(MDBDataTableV5,{data:setOrders(),className:\"px-3\",bordered:true,striped:true,hover:true})]});};export default ListOrders;","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan/frontend/src/components/order/ListOrders.js"],"names":["React","Fragment","useEffect","Link","MDBDataTableV5","MetaData","Loader","useAlert","useDispatch","useSelector","myOrders","clearErrors","ListOrders","alert","dispatch","state","loading","error","orders","setOrders","data","columns","label","field","sort","rows","forEach","order","push","id","_id","numOfItems","orderItems","length","amount","totalPrice","toLocaleString","status","orderStatus","String","includes","color","actions"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { MDBDataTableV5 } from 'mdbreact'\n\nimport MetaData from '../layout/MetaData'\nimport Loader from '../layout/Loader'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { myOrders, clearErrors } from '../../actions/orderActions'\n\nconst ListOrders = () => {\n\n    const alert = useAlert();\n    const dispatch = useDispatch();\n\n    const { loading, error, orders } = useSelector(state => state.myOrders);\n\n    useEffect(() => {\n        dispatch(myOrders());\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors())\n        }\n    }, [dispatch, alert, error])\n\n    const setOrders = () => {\n        const data = {\n            columns: [\n                {\n                    label: 'ID',\n                    field: 'id',\n                    sort: 'asc'\n                },\n                {\n                    label: 'Số lượng',\n                    field: 'numOfItems',\n                    sort: 'asc'\n                },\n                {\n                    label: 'Tổng tiền',\n                    field: 'amount',\n                    sort: 'asc'\n                },\n                {\n                    label: 'Trạng thái',\n                    field: 'status',\n                    sort: 'asc'\n                },\n                {\n                    label: 'Hành động',\n                    field: 'actions',\n                    sort: 'asc'\n                },\n            ],\n            rows: []\n        }\n\n        orders.forEach(order => {\n            data.rows.push({\n                id: order._id,\n                numOfItems: order.orderItems.length,\n                amount: `${(order.totalPrice).toLocaleString()}đ`,\n                status: order.orderStatus && String(order.orderStatus).includes('Đã giao hàng')\n                    ? <p style={{ color: 'green' }}>{order.orderStatus}</p>\n                    : <p style={{ color: 'red' }}>{order.orderStatus}</p>,\n                actions:\n                    <Link to={`/order/${order._id}`} className=\"btn btn-primary\">\n                        <i className=\"fa fa-eye\"></i>\n                    </Link>\n            })\n        })\n\n        return data;\n    }\n\n    return (\n        <Fragment>\n\n            <MetaData title={'Đơn hàng của tôi'} />\n\n            <h1 className=\"my-5\">Đơn hàng của tôi</h1>\n\n            {loading ? <Loader /> : (\n                <MDBDataTableV5\n                    data={setOrders()}\n                    className=\"px-3\"\n                    bordered\n                    striped\n                    hover\n                />\n            )}\n\n        </Fragment>\n    )\n}\n\nexport default ListOrders\n"]},"metadata":{},"sourceType":"module"}