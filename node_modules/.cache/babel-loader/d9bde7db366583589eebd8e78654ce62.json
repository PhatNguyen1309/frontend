{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\This PC\\\\OneDrive\\\\Desktop\\\\doan\\\\doan\\\\doan_tiemPizza\\\\frontend\\\\src\\\\components\\\\cart\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport MetaData from '../layout/MetaData';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addItemToCart, removeItemFromCart } from '../../actions/cartActions';\n\nconst Cart = ({\n  history\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    cartItems\n  } = useSelector(state => state.cart);\n\n  const removeCartItemHandler = id => {\n    dispatch(removeItemFromCart(id));\n  };\n\n  const updateQuantity = (productId, newQuantity) => {\n    // Update the quantity in the cart state\n    const updatedCart = cartItems.map(item => {\n      if (item.product === productId) {\n        return { ...item,\n          quantity: newQuantity,\n          price: calculatePrice(item.price, newQuantity)\n        };\n      }\n\n      return item;\n    }); // Dispatch an action to update the cart in the Redux store\n\n    updatedCart.forEach(item => {\n      dispatch(addItemToCart(item.product, item.quantity));\n    });\n  };\n\n  const calculatePrice = (basePrice, quantity) => {\n    // Example calculation logic\n    return basePrice * quantity; // Adjust this logic as needed\n  };\n\n  const increaseQty = (id, quantity, stock) => {\n    const newQty = quantity + 1;\n    if (newQty > stock) return;\n    updateQuantity(id, newQty);\n  };\n\n  const decreaseQty = (id, quantity) => {\n    const newQty = quantity - 1;\n    if (newQty <= 0) return;\n    dispatch(addItemToCart(id, newQty));\n  };\n\n  const checkoutHandler = () => {\n    history.push('/login?redirect=shipping');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: 'Giỏ hàng của bạn'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid mt-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Gi\\u1ECF h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body cart\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-12 empty-cart-cls text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"https://cdn-icons-png.flaticon.com/512/2037/2037457.png\",\n                  width: 130,\n                  height: 130,\n                  className: \"img-fluid mb-4 mr-3\",\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Gi\\u1ECF h\\xE0ng c\\u1EE7a b\\u1EA1n tr\\u1ED1ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"H\\xE3y th\\xEAm m\\u1ED9t c\\xE1i g\\xEC \\u0111\\xF3 \\u0111\\u1EC3 gi\\u1ECF h\\xE0ng \\u0111\\u1EA7y \\u1EAFp t\\xECnh y\\xEAu th\\u01B0\\u01A1ng!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  className: \"btn btn-primary cart-btn-transform m-3\",\n                  \"data-abc\": \"true\",\n                  children: \"Ti\\u1EBFp t\\u1EE5c mua s\\u1EAFm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mt-5\",\n        children: [\"Gi\\u1ECF h\\xE0ng c\\u1EE7a b\\u1EA1n \\u0111ang c\\xF3: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [cartItems.length, \" s\\u1EA3n ph\\u1EA9m\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-8\",\n          children: cartItems.map(item => /*#__PURE__*/_jsxDEV(Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4 col-lg-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.image,\n                    alt: item.name,\n                    height: \"90\",\n                    width: \"115\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-5 col-lg-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: `/product/${item.product}`,\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"K\\xEDch th\\u01B0\\u1EDBc: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: item.size\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 64\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4 col-lg-2 mt-4 mt-lg-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-primary\",\n                    children: [item.price.toLocaleString(), \"\\u0111\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4 col-lg-3 mt-4 mt-lg-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stockCounter d-inline\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"btn btn-danger minus\",\n                      onClick: () => decreaseQty(item.product, item.quantity),\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      className: \"form-control count d-inline\",\n                      value: item.quantity,\n                      readOnly: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"btn btn-primary plus\",\n                      onClick: () => increaseQty(item.product, item.quantity, item.stock),\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4 col-lg-1 mt-4 mt-lg-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    id: \"delete_cart_item\",\n                    className: \"fa fa-trash btn btn-danger\",\n                    onClick: () => removeCartItemHandler(item.product)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 37\n            }, this)]\n          }, item.product, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-4 my-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"order_summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-center\",\n              children: \"T\\u1ED5ng gi\\xE1 tr\\u1ECB \\u0111\\u01A1n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"S\\u1ED1 l\\u01B0\\u1EE3ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"order-summary-values\",\n                children: [cartItems.reduce((acc, item) => acc + Number(item.quantity), 0), \" (S\\u1EA3n ph\\u1EA9m)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"T\\u1ED5ng ti\\u1EC1n: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"order-summary-values\",\n                children: [cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0).toLocaleString(), \"\\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"checkout_btn\",\n              className: \"btn btn-primary btn-block\",\n              onClick: checkoutHandler,\n              children: \"\\u0110\\u1EB7t h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cart, \"cGbyvR5MS4/bThWYIdckMVnpoH8=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan_tiemPizza/frontend/src/components/cart/Cart.js"],"names":["React","Fragment","Link","MetaData","useDispatch","useSelector","addItemToCart","removeItemFromCart","Cart","history","dispatch","cartItems","state","cart","removeCartItemHandler","id","updateQuantity","productId","newQuantity","updatedCart","map","item","product","quantity","price","calculatePrice","forEach","basePrice","increaseQty","stock","newQty","decreaseQty","checkoutHandler","push","length","image","name","size","toLocaleString","reduce","acc","Number"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport MetaData from '../layout/MetaData';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addItemToCart, removeItemFromCart } from '../../actions/cartActions';\n\nconst Cart = ({ history }) => {\n    const dispatch = useDispatch();\n    const { cartItems } = useSelector(state => state.cart);\n    \n\n    const removeCartItemHandler = (id) => {\n        dispatch(removeItemFromCart(id));\n    };\n\n    const updateQuantity = (productId, newQuantity) => {\n        // Update the quantity in the cart state\n        const updatedCart = cartItems.map(item => {\n            if (item.product === productId) {\n                return { ...item, quantity: newQuantity, price: calculatePrice(item.price, newQuantity) };\n            }\n            return item;\n        });\n        // Dispatch an action to update the cart in the Redux store\n        updatedCart.forEach(item => {\n            dispatch(addItemToCart(item.product, item.quantity));\n        });\n    };\n\n    const calculatePrice = (basePrice, quantity) => {\n        // Example calculation logic\n        return basePrice * quantity; // Adjust this logic as needed\n    };\n\n    const increaseQty = (id, quantity, stock) => {\n        const newQty = quantity + 1;\n        if (newQty > stock) return;\n        updateQuantity(id, newQty);\n    };\n\n\n    const decreaseQty = (id, quantity) => {\n        const newQty = quantity - 1;\n        if (newQty <= 0) return;\n        dispatch(addItemToCart(id, newQty));\n    };\n\n    const checkoutHandler = () => {\n        history.push('/login?redirect=shipping');\n    };\n\n    return (\n        <Fragment>\n            <MetaData title={'Giỏ hàng của bạn'} />\n            {cartItems.length === 0 ? (\n                <div className=\"container-fluid mt-100\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <div className=\"card\">\n                                <div className=\"card-header\">\n                                    <h5>Giỏ hàng</h5>\n                                </div>\n                                <div className=\"card-body cart\">\n                                    <div className=\"col-sm-12 empty-cart-cls text-center\">\n                                        <img src=\"https://cdn-icons-png.flaticon.com/512/2037/2037457.png\" width={130} height={130} className=\"img-fluid mb-4 mr-3\" alt='' />\n                                        <h3><strong>Giỏ hàng của bạn trống</strong></h3>\n                                        <h4>Hãy thêm một cái gì đó để giỏ hàng đầy ắp tình yêu thương!</h4>\n                                        <Link to=\"/\" className=\"btn btn-primary cart-btn-transform m-3\" data-abc=\"true\">Tiếp tục mua sắm</Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ) : (\n                <Fragment>\n                    <h3 className=\"mt-5\">Giỏ hàng của bạn đang có: <b>{cartItems.length} sản phẩm</b></h3>\n                    <div className=\"row d-flex justify-content-between\">\n                        <div className=\"col-12 col-lg-8\">\n                            {cartItems.map(item => (\n                                <Fragment key={item.product}>\n                                    <hr />\n                                    <div className=\"cart-item\">\n                                        <div className=\"row\">\n                                            <div className=\"col-4 col-lg-3\">\n                                                <img src={item.image} alt={item.name} height=\"90\" width=\"115\" />\n                                            </div>\n                                            <div className=\"col-5 col-lg-3\">\n                                                <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                                <p>Kích thước: <strong>{item.size}</strong></p>\n                                            </div>\n                                            <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n                                                <p className='text-primary'>{(item.price).toLocaleString()}đ</p>\n                                            </div>\n                                            <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n                                                <div className=\"stockCounter d-inline\">\n                                                    <span className=\"btn btn-danger minus\" onClick={() => decreaseQty(item.product, item.quantity)}>-</span>\n                                                    <input type=\"number\" className=\"form-control count d-inline\" value={item.quantity} readOnly />\n                                                    <span className=\"btn btn-primary plus\" onClick={() => increaseQty(item.product, item.quantity, item.stock)}>+</span>\n                                                </div>\n                                            </div>\n                                            <div className=\"col-4 col-lg-1 mt-4 mt-lg-0\">\n                                                <i id=\"delete_cart_item\" className=\"fa fa-trash btn btn-danger\" onClick={() => removeCartItemHandler(item.product)}></i>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <hr />\n                                </Fragment>\n                            ))}\n                        </div>\n\n                        <div className=\"col-12 col-lg-4 my-4\">\n                            <div id=\"order_summary\">\n                                <h4 className='text-center'>Tổng giá trị đơn hàng</h4>\n                                <hr />\n                                <p>Số lượng: <span className=\"order-summary-values\">{cartItems.reduce((acc, item) => (acc + Number(item.quantity)), 0)} (Sản phẩm)</span></p>\n                                <p>Tổng tiền: <span className=\"order-summary-values\">{(cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0)).toLocaleString()}đ</span></p>\n                                <hr />\n                                <button id=\"checkout_btn\" className=\"btn btn-primary btn-block\" onClick={checkoutHandler}>Đặt hàng</button>\n                            </div>\n                        </div>\n                    </div>\n                </Fragment>\n            )}\n        </Fragment>\n    );\n};\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}