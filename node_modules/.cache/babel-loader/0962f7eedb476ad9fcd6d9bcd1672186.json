{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\This PC\\\\OneDrive\\\\Desktop\\\\doan\\\\doan\\\\doan_tiemPizza\\\\frontend\\\\src\\\\components\\\\product\\\\ProductDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport { Carousel } from 'react-bootstrap';\nimport Loader from '../layout/Loader';\nimport MetaData from '../layout/MetaData';\nimport ListReviews from '../review/ListReviews';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProductDetails, newReview, clearErrors } from '../../actions/productActions';\nimport { addItemToCart } from '../../actions/cartActions';\nimport { NEW_REVIEW_RESET } from '../../constants/productConstants';\n\nconst ProductDetails = ({\n  match\n}) => {\n  _s();\n\n  const [quantity, setQuantity] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  const [size, setSize] = useState('');\n  const [crust, setCrust] = useState(''); // Thêm state cho đế\n\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const {\n    loading,\n    error,\n    product\n  } = useSelector(state => state.productDetails);\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const {\n    error: reviewError,\n    success\n  } = useSelector(state => state.newReview);\n  useEffect(() => {\n    dispatch(getProductDetails(match.params.id));\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (reviewError) {\n      alert.error(reviewError);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success('Đánh giá thành công');\n      dispatch({\n        type: NEW_REVIEW_RESET\n      });\n    }\n  }, [dispatch, alert, error, reviewError, match.params.id, success]);\n\n  const addToCart = () => {\n    if (!size) {\n      alert.error(\"Vui lòng chọn kích thước.\");\n      return;\n    }\n\n    if (!crust) {\n      alert.error(\"Vui lòng chọn loại đế.\");\n      return;\n    }\n\n    const price = getFormattedPrice(); // Lấy giá đã được định dạng\n\n    dispatch(addItemToCart(match.params.id, quantity, size, crust, price)); // Thêm crust vào đây\n\n    alert.success('Đã thêm vào giỏ hàng');\n  };\n\n  const increaseQty = () => {\n    setQuantity(prevQuantity => Math.min(prevQuantity + 1, product.stock));\n  };\n\n  const decreaseQty = () => {\n    setQuantity(prevQuantity => Math.max(prevQuantity - 1, 1));\n  }; // Tính toán giá theo kích thước và đế\n\n\n  const getFormattedPrice = () => {\n    let price = product.price || 0;\n\n    if (size === \"12 inch\") {\n      price *= 1.3; // Tăng giá 30% cho size 12 inch\n    }\n\n    if (crust === \"Đế dày\") {\n      price += 30000; // Tăng giá 30000đ nếu chọn đế dày\n    }\n\n    return price.toLocaleString();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(MetaData, {\n        title: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row d-flex justify-content-around\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-5 img-fluid\",\n          id: \"product_image\",\n          children: /*#__PURE__*/_jsxDEV(Carousel, {\n            pause: \"hover\",\n            children: product.images && product.images.map(image => /*#__PURE__*/_jsxDEV(Carousel.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"d-block w-100\",\n                src: image.url,\n                alt: product.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 41\n              }, this)\n            }, image.public_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-5 mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-outer\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              id: \"no_of_reviews\",\n              children: product.ratings\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating-inner\",\n              style: {\n                width: `${product.ratings / 5 * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"no_of_reviews\",\n            children: [\"(\", product.numOfReviews, \" \\u0111\\xE1nh gi\\xE1)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"product_price\",\n            children: [getFormattedPrice(), \"\\u0111\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stockCounter d-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn btn-danger minus\",\n              onClick: decreaseQty,\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control count d-inline\",\n              value: quantity,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn btn-primary plus\",\n              onClick: increaseQty,\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sizeSelector mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"K\\xEDch th\\u01B0\\u1EDBc:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"size9\",\n                name: \"size\",\n                value: \"9 inch\",\n                checked: size === \"9 inch\",\n                onChange: e => setSize(e.target.value),\n                className: \"form-check-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"size9\",\n                className: \"form-check-label\",\n                children: \"9 inch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"size12\",\n                name: \"size\",\n                value: \"12 inch\",\n                checked: size === \"12 inch\",\n                onChange: e => setSize(e.target.value),\n                className: \"form-check-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"size12\",\n                className: \"form-check-label\",\n                children: \"12 inch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"crustSelector mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Lo\\u1EA1i \\u0111\\u1EBF:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"crustThin\",\n                name: \"crust\",\n                value: \"\\u0110\\u1EBF m\\u1ECFng\",\n                checked: crust === \"Đế mỏng\",\n                onChange: e => setCrust(e.target.value),\n                className: \"form-check-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"crustThin\",\n                className: \"form-check-label\",\n                children: \"\\u0110\\u1EBF m\\u1ECFng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"crustThick\",\n                name: \"crust\",\n                value: \"\\u0110\\u1EBF d\\xE0y\",\n                checked: crust === \"Đế dày\",\n                onChange: e => setCrust(e.target.value),\n                className: \"form-check-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"crustThick\",\n                className: \"form-check-label\",\n                children: \"\\u0110\\u1EBF d\\xE0y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"cart_btn\",\n            className: `btn btn-primary d-inline ml-4 ${product.stock <= 1 ? 'disabled-button' : ''}`,\n            disabled: product.stock <= 1,\n            onClick: addToCart,\n            children: \"Th\\xEAm v\\xE0o gi\\u1ECF h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"T\\xECnh tr\\u1EA1ng h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              id: \"stock_status\",\n              className: product.stock > 1 ? 'greenColor' : 'redColor',\n              children: product.stock > 1 ? 'Còn hàng' : 'Hết hàng'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mt-2\",\n            children: \"M\\xF4 t\\u1EA3:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"product_seller mb-3\",\n            children: [\"Xu\\u1EA5t x\\u1EE9: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: product.seller\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 66\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }, this), user ? /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"review_btn\",\n            type: \"button\",\n            className: \"btn btn-primary mt-4\",\n            \"data-toggle\": \"modal\",\n            \"data-target\": \"#ratingModal\",\n            onClick: setUserRatings,\n            children: \"B\\xECnh lu\\u1EADn s\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger mt-5\",\n            type: \"alert\",\n            children: \"B\\u1EA1n c\\u1EA7n \\u0111\\u0103ng nh\\u1EADp \\u0111\\u1EC3 c\\xF3 th\\u1EC3 \\u0111\\xE1nh gi\\xE1 \\u0111\\u01B0\\u1EE3c s\\u1EA3n ph\\u1EA9m n\\xE0y.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-2 mb-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating w-50\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal fade\",\n                id: \"ratingModal\",\n                tabIndex: \"-1\",\n                role: \"dialog\",\n                \"aria-labelledby\": \"ratingModalLabel\",\n                \"aria-hidden\": \"true\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-dialog\",\n                  role: \"document\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"modal-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal-header\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"modal-title\",\n                        id: \"ratingModalLabel\",\n                        children: \"\\u0110\\xE1nh gi\\xE1 s\\u1EA3n ph\\u1EA9m\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"close\",\n                        \"data-dismiss\": \"modal\",\n                        \"aria-label\": \"Close\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          \"aria-hidden\": \"true\",\n                          children: \"\\xD7\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 222,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal-body\",\n                      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"stars\",\n                        children: [...Array(5)].map((_, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"star\",\n                          onClick: () => handleStarClick(index + 1),\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: `fa fa-star${rating >= index + 1 ? '' : '-o'}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 233,\n                            columnNumber: 65\n                          }, this)\n                        }, index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 228,\n                          columnNumber: 61\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 226,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        name: \"review\",\n                        id: \"review\",\n                        className: \"form-control mt-3\",\n                        value: comment,\n                        onChange: e => setComment(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 237,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn my-3 float-right review-btn px-4 text-white\",\n                        onClick: reviewHandler,\n                        \"data-dismiss\": \"modal\",\n                        \"aria-label\": \"Close\",\n                        children: \"G\\u1EEDi\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductDetails, \"3c4HJuwnUDrT563WQdj4MM7K6PQ=\", false, function () {\n  return [useDispatch, useAlert, useSelector, useSelector, useSelector];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["C:/Users/This PC/OneDrive/Desktop/doan/doan/doan_tiemPizza/frontend/src/components/product/ProductDetails.js"],"names":["React","Fragment","useState","useEffect","Carousel","Loader","MetaData","ListReviews","useAlert","useDispatch","useSelector","getProductDetails","newReview","clearErrors","addItemToCart","NEW_REVIEW_RESET","ProductDetails","match","quantity","setQuantity","rating","setRating","comment","setComment","size","setSize","crust","setCrust","dispatch","alert","loading","error","product","state","productDetails","user","auth","reviewError","success","params","id","type","addToCart","price","getFormattedPrice","increaseQty","prevQuantity","Math","min","stock","decreaseQty","max","toLocaleString","name","images","map","image","url","title","public_id","ratings","width","numOfReviews","e","target","value","description","seller","setUserRatings","Array","_","index","handleStarClick","reviewHandler"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport { Carousel } from 'react-bootstrap';\n\nimport Loader from '../layout/Loader';\nimport MetaData from '../layout/MetaData';\nimport ListReviews from '../review/ListReviews';\n\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProductDetails, newReview, clearErrors } from '../../actions/productActions';\nimport { addItemToCart } from '../../actions/cartActions';\nimport { NEW_REVIEW_RESET } from '../../constants/productConstants';\n\nconst ProductDetails = ({ match }) => {\n    const [quantity, setQuantity] = useState(1);\n    const [rating, setRating] = useState(0);\n    const [comment, setComment] = useState('');\n    const [size, setSize] = useState('');\n    const [crust, setCrust] = useState(''); // Thêm state cho đế\n\n    const dispatch = useDispatch();\n    const alert = useAlert();\n\n    const { loading, error, product } = useSelector(state => state.productDetails);\n    const { user } = useSelector(state => state.auth);\n    const { error: reviewError, success } = useSelector(state => state.newReview);\n\n    useEffect(() => {\n        dispatch(getProductDetails(match.params.id));\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors());\n        }\n\n        if (reviewError) {\n            alert.error(reviewError);\n            dispatch(clearErrors());\n        }\n\n        if (success) {\n            alert.success('Đánh giá thành công');\n            dispatch({ type: NEW_REVIEW_RESET });\n        }\n    }, [dispatch, alert, error, reviewError, match.params.id, success]);\n\n    const addToCart = () => {\n        if (!size) {\n            alert.error(\"Vui lòng chọn kích thước.\");\n            return;\n        }\n        if (!crust) {\n            alert.error(\"Vui lòng chọn loại đế.\");\n            return;\n        }\n\n        const price = getFormattedPrice(); // Lấy giá đã được định dạng\n\n        dispatch(addItemToCart(match.params.id, quantity, size, crust, price)); // Thêm crust vào đây\n        alert.success('Đã thêm vào giỏ hàng');\n    };\n\n    const increaseQty = () => {\n        setQuantity(prevQuantity => Math.min(prevQuantity + 1, product.stock));\n    };\n\n    const decreaseQty = () => {\n        setQuantity(prevQuantity => Math.max(prevQuantity - 1, 1));\n    };\n\n    // Tính toán giá theo kích thước và đế\n    const getFormattedPrice = () => {\n        let price = product.price || 0;\n        if (size === \"12 inch\") {\n            price *= 1.3; // Tăng giá 30% cho size 12 inch\n        }\n        if (crust === \"Đế dày\") {\n            price += 30000; // Tăng giá 30000đ nếu chọn đế dày\n        }\n        return price.toLocaleString();\n    };\n\n    return (\n        <Fragment>\n            {loading ? <Loader /> : (\n                <Fragment>\n                    <MetaData title={product.name} />\n                    <div className=\"row d-flex justify-content-around\">\n                        <div className=\"col-12 col-lg-5 img-fluid\" id=\"product_image\">\n                            <Carousel pause='hover'>\n                                {product.images && product.images.map(image => (\n                                    <Carousel.Item key={image.public_id}>\n                                        <img className=\"d-block w-100\" src={image.url} alt={product.title} />\n                                    </Carousel.Item>\n                                ))}\n                            </Carousel>\n                        </div>\n\n                        <div className=\"col-12 col-lg-5 mt-5\">\n                            <h3>{product.name}</h3>\n                            <hr />\n\n                            <div className=\"rating-outer\">\n                                <span id=\"no_of_reviews\">{product.ratings}</span>\n                                <div className=\"rating-inner\" style={{ width: `${(product.ratings / 5) * 100}%` }}></div>\n                            </div>\n                            <span id=\"no_of_reviews\">({product.numOfReviews} đánh giá)</span>\n\n                            <hr />\n                            <p id=\"product_price\">{getFormattedPrice()}đ</p>\n                            <div className=\"stockCounter d-inline\">\n                                <span className=\"btn btn-danger minus\" onClick={decreaseQty}>-</span>\n\n                                <input type=\"number\" className=\"form-control count d-inline\" value={quantity} readOnly />\n\n                                <span className=\"btn btn-primary plus\" onClick={increaseQty}>+</span>\n                            </div>\n\n                            {/* Chọn kích thước */}\n                            <div className=\"sizeSelector mt-3\">\n                                <label>Kích thước:</label>\n                                <div className=\"form-check\">\n                                    <input\n                                        type=\"radio\"\n                                        id=\"size9\"\n                                        name=\"size\"\n                                        value=\"9 inch\"\n                                        checked={size === \"9 inch\"}\n                                        onChange={(e) => setSize(e.target.value)}\n                                        className=\"form-check-input\"\n                                    />\n                                    <label htmlFor=\"size9\" className=\"form-check-label\">9 inch</label>\n                                </div>\n                                <div className=\"form-check\">\n                                    <input\n                                        type=\"radio\"\n                                        id=\"size12\"\n                                        name=\"size\"\n                                        value=\"12 inch\"\n                                        checked={size === \"12 inch\"}\n                                        onChange={(e) => setSize(e.target.value)}\n                                        className=\"form-check-input\"\n                                    />\n                                    <label htmlFor=\"size12\" className=\"form-check-label\">12 inch</label>\n                                </div>\n                            </div>\n\n                            {/* Chọn đế */}\n                            <div className=\"crustSelector mt-3\">\n                                <label>Loại đế:</label>\n                                <div className=\"form-check\">\n                                    <input\n                                        type=\"radio\"\n                                        id=\"crustThin\"\n                                        name=\"crust\"\n                                        value=\"Đế mỏng\"\n                                        checked={crust === \"Đế mỏng\"}\n                                        onChange={(e) => setCrust(e.target.value)}\n                                        className=\"form-check-input\"\n                                    />\n                                    <label htmlFor=\"crustThin\" className=\"form-check-label\">Đế mỏng</label>\n                                </div>\n                                <div className=\"form-check\">\n                                    <input\n                                        type=\"radio\"\n                                        id=\"crustThick\"\n                                        name=\"crust\"\n                                        value=\"Đế dày\"\n                                        checked={crust === \"Đế dày\"}\n                                        onChange={(e) => setCrust(e.target.value)}\n                                        className=\"form-check-input\"\n                                    />\n                                    <label htmlFor=\"crustThick\" className=\"form-check-label\">Đế dày</label>\n                                </div>\n                            </div>\n\n                            <button\n                                type=\"button\"\n                                id=\"cart_btn\"\n                                className={`btn btn-primary d-inline ml-4 ${product.stock <= 1 ? 'disabled-button' : ''}`}\n                                disabled={product.stock <= 1}\n                                onClick={addToCart}\n                            >\n                                Thêm vào giỏ hàng\n                            </button>\n\n                            <hr />\n\n                            <p>Tình trạng hàng: <span id=\"stock_status\" className={product.stock > 1 ? 'greenColor' : 'redColor'} >{product.stock > 1 ? 'Còn hàng' : 'Hết hàng'}</span></p>\n\n                            <hr />\n\n                            <h4 className=\"mt-2\">Mô tả:</h4>\n                            <p>{product.description}</p>\n                            <hr />\n                            <p id=\"product_seller mb-3\">Xuất xứ: <strong>{product.seller}</strong></p>\n\n                            {/* Đánh giá sản phẩm */}\n                            {user ? (\n                                <button\n                                    id=\"review_btn\"\n                                    type=\"button\"\n                                    className=\"btn btn-primary mt-4\"\n                                    data-toggle=\"modal\"\n                                    data-target=\"#ratingModal\"\n                                    onClick={setUserRatings}\n                                >\n                                    Bình luận sản phẩm\n                                </button>\n                            ) : (\n                                <div className=\"alert alert-danger mt-5\" type='alert'>Bạn cần đăng nhập để có thể đánh giá được sản phẩm này.</div>\n                            )}\n\n                            <div className=\"row mt-2 mb-5\">\n                                <div className=\"rating w-50\">\n                                    <div className=\"modal fade\" id=\"ratingModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"ratingModalLabel\" aria-hidden=\"true\">\n                                        <div className=\"modal-dialog\" role=\"document\">\n                                            <div className=\"modal-content\">\n                                                <div className=\"modal-header\">\n                                                    <h5 className=\"modal-title\" id=\"ratingModalLabel\">Đánh giá sản phẩm</h5>\n                                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                                        <span aria-hidden=\"true\">&times;</span>\n                                                    </button>\n                                                </div>\n                                                <div className=\"modal-body\">\n                                                    <ul className=\"stars\">\n                                                        {[...Array(5)].map((_, index) => (\n                                                            <li\n                                                                className=\"star\"\n                                                                key={index}\n                                                                onClick={() => handleStarClick(index + 1)}\n                                                            >\n                                                                <i className={`fa fa-star${rating >= index + 1 ? '' : '-o'}`}></i>\n                                                            </li>\n                                                        ))}\n                                                    </ul>\n                                                    <textarea\n                                                        name=\"review\"\n                                                        id=\"review\"\n                                                        className=\"form-control mt-3\"\n                                                        value={comment}\n                                                        onChange={(e) => setComment(e.target.value)}\n                                                    ></textarea>\n                                                    <button\n                                                        className=\"btn my-3 float-right review-btn px-4 text-white\"\n                                                        onClick={reviewHandler}\n                                                        data-dismiss=\"modal\"\n                                                        aria-label=\"Close\"\n                                                    >\n                                                        Gửi\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                </Fragment>\n            )}\n        </Fragment>\n    );\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}